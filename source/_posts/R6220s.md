---
title: r6220 刷回原厂固件 放掉坑
date: 2018-09-13 06:54:03
tags:
---

博主参与过NETGEAR固件开发。所以这方面懂得比较多

如果你看了我的上一篇帖子里的论坛教程。或者你就是看了论坛教程才来的。并且你的目的是把LEDE刷回netgear的固件（没有动uboot），并且的并且！你用了nmrpflash  的程序并且你失败了。恭喜你来对了。

为什么别人能成功你就成功不了呢?明明你都按照正确的步骤来了。
别人能成功，你成功不了，问题当然出在你。。。。PC的身上了

先解释一下nmrpflash 的原理，虽然我没有见过R6220的uboot，不过我大概猜到R6220会在UBOOT的阶段（也就是刚开机10秒内），当他检测到你按reset按钮的时候，他会启动一个刷固件的程序，然后等待你传固件给他。你怎么传固件给他？通过nmrpflash 。但是你为什么失败了？因为你的网卡辣鸡！其实也不一定就是你的网卡辣鸡，但是有一点，你的网卡检测到路由器已经启动的速度太慢。
路由器
----uboot中----检测到reset按钮，进入刷机模式----------------------------------没有反应，正常进入系统----------------->
你的网卡
--没有检测到路由器--------------------nmrpflash启动！--------------------------还是没有检测到-----------------终于检测到了um..怎没有人响应？--------------->

看出来了吗？你的辣鸡网卡在刷机模式都跑超时了还没有检测到路由器已经上电，可以访问了。

所以问题怎么解决？再拿一个路由器或者交换机，连成这样：

R6220 lan口-------------------新路由器lan口--------------------------你的电脑

注意不能关了这个路由器。这样就行了。为什么这样行？
因为路由器或者是交换机，检测网口上电的速度是特别快的，小于1秒，比你那个10多秒都没有反应的辣鸡网卡强的多。而你的电脑因为连接着这个路由器，所以一直能发送报文出去，一旦r6220启动并进入刷机模式，它立刻就能检测的到！